---
title: ç¬¬ä¸€è®² Â· åŸºç¡€ç®—æ³•
date: 2025-10-21 22:01:00
permalink: /algorithms/acwing-base/basic-algorithms
titleTag: åŸåˆ›
top: true
coverImg: /home/bg1.webp
categories:
  - ç®—æ³•ç¬”è®°
  - AcWingBase
tags:
  - ç®—æ³•ç¬”è®°
  - AcWingBase
  - C++
  - Algorithm
---


<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:7F00FF,45:00C9A7,100:FEB47B&height=230&text=ğŸ§©%20ç¬¬ä¸€è®²%20Â·%20åŸºç¡€ç®—æ³•&desc=From%20sorting%20to%20bitwise%20magic%2C%20master%20the%20fundamentals&descAlign=50&descAlignY=75&fontSize=54&fontColor=EADCF8&fontAlignY=42&animation=twinkling" alt="ç¬¬ä¸€è®² Â· åŸºç¡€ç®—æ³• Banner"/>
</p>

<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:A3E4DB,40:FFDAB3,100:FFB085&height=220&text=ğŸ“%20AcWing%20ç®—æ³•åŸºç¡€è¯¾&desc=ä»¥ä¼˜é›…çš„æ¨¡æ¿%20+%20æ¸…æ™°çš„æ€ç»´%20å¿«é€Ÿç™»å ‚å…¥å®¤&descAlign=50&descAlignY=75&fontSize=50&fontColor=9B59B6&fontAlignY=42&animation=twinkling" alt="AcWing ç®—æ³•åŸºç¡€è¯¾ Banner"/>
</p>


<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:E8FFFB,20:CFF7F2,40:9FEFEA,60:4FD8CE,80:0ABAB5,100:007C76&height=230&text=ğŸ§©%20ç¬¬ä¸€è®²%20Â·%20åŸºç¡€ç®—æ³•&desc=From%20sorting%20to%20bitwise%20magic%2C%20master%20the%20fundamentals&descAlign=50&descAlignY=75&fontSize=54&fontColor=004B45&fontAlignY=42&animation=twinkling" alt="ç¬¬ä¸€è®² Â· åŸºç¡€ç®—æ³• - Classic Tiffany"/>
</p>


<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:E8FFFB,20:CFF7F2,40:9FEFEA,60:4FD8CE,80:0ABAB5,100:007C76&height=220&text=ğŸ“%20AcWing%20ç®—æ³•åŸºç¡€è¯¾&desc=%E4%BB%A5%E4%BC%98%E9%9B%85%E7%9A%84%E6%A8%A1%E6%9D%BF%20%2B%20%E6%B8%85%E6%99%B0%E7%9A%84%E6%80%9D%E7%BB%B4%20%E5%BF%AB%E9%80%9F%E7%99%BB%E5%A0%82%E5%85%A5%E5%A4%AB&descAlign=50&descAlignY=75&fontSize=50&fontColor=05655D&fontAlignY=42&animation=twinkling" alt="AcWing ç®—æ³•åŸºç¡€è¯¾ - Classic Tiffany"/>
</p>




<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:7FFFD4,45:81D8D0,100:ADEBB3&height=230&text=ğŸ§©%20ç¬¬ä¸€è®²%20Â·%20åŸºç¡€ç®—æ³•&desc=From%20sorting%20to%20bitwise%20magic%2C%20master%20the%20fundamentals&descAlign=50&descAlignY=75&fontSize=54&fontColor=4A4A4A&fontAlignY=42&animation=twinkling" alt="ç¬¬ä¸€è®² Â· åŸºç¡€ç®—æ³• Banner"/>
</p>

<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:7FFFD4,40:81D8D0,100:ADEBB3&height=220&text=ğŸ“%20AcWing%20ç®—æ³•åŸºç¡€è¯¾&desc=ä»¥ä¼˜é›…çš„æ¨¡æ¿%20+%20æ¸…æ™°çš„æ€ç»´%20å¿«é€Ÿç™»å ‚å…¥å®¤&descAlign=50&descAlignY=75&fontSize=50&fontColor=4A4A4A&fontAlignY=42&animation=twinkling" alt="AcWing ç®—æ³•åŸºç¡€è¯¾ Banner"/>
</p>





<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:7FFFEF,30:7FFFD4,60:81D8D0,100:B2F1E0&height=230&text=ğŸ§©%20ç¬¬ä¸€è®²%20Â·%20åŸºç¡€ç®—æ³•&desc=From%20sorting%20to%20bitwise%20magic%2C%20master%20the%20fundamentals&descAlign=50&descAlignY=75&fontSize=54&fontColor=3A5F5F&fontAlignY=42&animation=twinkling" alt="ç¬¬ä¸€è®² Â· åŸºç¡€ç®—æ³• Banner"/>
</p>

<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:7FFFEF,30:7FFFD4,60:81D8D0,100:B2F1E0&height=220&text=ğŸ“%20AcWing%20ç®—æ³•åŸºç¡€è¯¾&desc=ä»¥ä¼˜é›…çš„æ¨¡æ¿%20+%20æ¸…æ™°çš„æ€ç»´%20å¿«é€Ÿç™»å ‚å…¥å®¤&descAlign=50&descAlignY=75&fontSize=50&fontColor=3A5F5F&fontAlignY=42&animation=twinkling" alt="AcWing ç®—æ³•åŸºç¡€è¯¾ Banner"/>
</p>





<p align="center">
  <img src="https://img.shields.io/badge/Language-C%2B%2B-E8FFFB?style=for-the-badge&logo=c%2B%2B&logoColor=0ABAB5"/>
  <img src="https://img.shields.io/badge/Topic-Algorithm-9FEFEA?style=for-the-badge&logo=matrix&logoColor=004B45"/>
  <img src="https://img.shields.io/badge/License-MIT-4FD8CE?style=for-the-badge&logo=openaccess&logoColor=007C76"/>
  <img src="https://img.shields.io/badge/Created-2025--10--21-0ABAB5?style=for-the-badge&logo=clockify&logoColor=F8FFFD"/>
</p>


![Language](https://img.shields.io/badge/Language-C%2B%2B-00599C?style=flat-square&logo=c%2B%2B)
![Topic](https://img.shields.io/badge/Topic-Algorithm-green?style=flat-square)
![License](https://img.shields.io/badge/License-MIT-lightgrey?style=flat-square)
![Created](https://img.shields.io/badge/Created-2025--10--21-lightgrey?style=flat-square)



> "First, solve the problem. Then, write the code." â€”â€” John Johnson  
>
> ---
>
> æœ¬ç¬”è®°ä¸º **ç¬¬ä¸€è®² Â· åŸºç¡€ç®—æ³•** çš„ C++ æ¨¡æ¿ä¸é¢˜è§£ï¼Œæ¶µç›–æ’åºã€äºŒåˆ†æŸ¥æ‰¾ã€é«˜ç²¾åº¦è®¡ç®—ã€å‰ç¼€å’Œä¸å·®åˆ†ã€åŒæŒ‡é’ˆç®—æ³•ã€ä½è¿ç®—ã€ç¦»æ•£åŒ–ã€åŒºé—´åˆå¹¶ç­‰æ ¸å¿ƒå†…å®¹ã€‚æ—¨åœ¨ä¸ºå­¦ä¹ è€…æä¾›ä¸€ä¸ª**æ¸…æ™°ã€å®ç”¨ã€ç³»ç»Ÿ**çš„å­¦ä¹ ä¸å¤ä¹ å‚è€ƒã€‚
>
> ---
>
> ä¸€åˆ‡ç®—æ³•çš„åŸºçŸ³ï¼Œçš†å§‹äºåŸºç¡€ã€‚
> ä»æ’åºçš„ç§©åºï¼Œåˆ°äºŒåˆ†çš„ç²¾ç¡®ï¼›ä»å‰ç¼€å’Œçš„é“ºå«ï¼Œåˆ°åŒæŒ‡é’ˆçš„çµåŠ¨â€”â€”æ¯ä¸€ä¸ªçœ‹ä¼¼å¹³å‡¡çš„æŠ€å·§ï¼Œéƒ½æ˜¯æ„ç­‘å¤æ‚ç®—æ³•ä½“ç³»çš„ç –çŸ³ã€‚
>
> æœ¬ç« å°†å¸¦ä½ é‡ç‡ƒç®—æ³•çš„æœ€åˆä¹‹ç«ï¼ŒæŒæ¡é‚£äº›æœ€å¸¸ç”¨å´æœ€é‡è¦çš„åŸºç¡€æŠ€å·§ã€‚ç‚¹æ»´æ‰“ç£¨ï¼Œç»ˆå°†å‡æˆé”‹èŠ’ã€‚


<audio controls>
    <source src="./assets/åŸºç¡€ç®—æ³•.mp3" type="audio/mpeg">
</audio>


---





# ğŸ“– ç¬¬ä¸€è®² åŸºç¡€ç®—æ³•

## ğŸš€ 1. å¿«é€Ÿæ’åº

> **æ ¸å¿ƒæ€æƒ³**ï¼šå¿«é€Ÿæ’åºæ˜¯ä¸€ç§é«˜æ•ˆçš„åˆ†æ²»æ’åºç®—æ³•ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ã€‚å…¶æ ¸å¿ƒæ˜¯é€‰å–ä¸€ä¸ªåŸºå‡†å…ƒç´ ï¼ˆpivotï¼‰ï¼Œé€šè¿‡ä¸€è¶Ÿæ’åºå°†å¾…æ’åºåˆ—åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†è®°å½•çš„å…³é”®å­—å‡æ¯”å¦ä¸€éƒ¨åˆ†è®°å½•çš„å…³é”®å­—å°ï¼Œåˆ™å¯åˆ†åˆ«å¯¹è¿™ä¸¤éƒ¨åˆ†è®°å½•ç»§ç»­è¿›è¡Œæ’åºï¼Œä»¥è¾¾åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚

### 1.0 æ´›è°·é¢˜å•



| æ¥æº | é¢˜ç›®/é¢˜å•                                                    | è¯´æ˜                       |
| ---- | ------------------------------------------------------------ | -------------------------- |
| æ´›è°· | [å¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åº - é¢˜å• - æ´›è°·](https://www.luogu.com.cn/training/784214) | å¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åºï¼ˆé¢˜å•ï¼‰ |
| æ´›è°· | [å½’å¹¶æ’åº - é¢˜å• - æ´›è°·](https://www.luogu.com.cn/training/13545) | å½’å¹¶æ’åºï¼ˆé¢˜å•ï¼‰           |
| æ´›è°· | https://www.luogu.com.cn/training/107                        | ã€ç®—æ³•1-2ã€‘æ’åºï¼ˆé¢˜å•ï¼‰    |
| æ´›è°· | https://www.luogu.com.cn/training/189070                     | å¿«é€Ÿæ’åºï¼ˆé¢˜å•ï¼‰           |



### 1.1 å¿«é€Ÿæ’åº



<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>

- **LeetCode**: [912. æ’åºæ•°ç»„](https://leetcode.cn/problems/sort-an-array/description/)
- **æ´›è°·**:
    - [P1177 ã€æ¨¡æ¿ã€‘å¿«é€Ÿæ’åº](https://www.luogu.com.cn/problem/P1177)
    - [U239911 ã€æ¨¡æ¿ã€‘å¿«é€Ÿæ’åº](https://www.luogu.com.cn/problem/U239911)
    - é¢˜å•: [æ’åº](https://www.luogu.com.cn/training/18907)



</details>



<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>


![image-20240112142305656](assets/image-20240112142305656.png)

> **å¿«é€Ÿæ’åºæ¨¡æ¿**

```cpp
#include<iostream>
#include<algorithm>

using namespace std;

const int N = 1e5+7;

int q[N];

// å¿«é€Ÿæ’åºæ¨¡æ¿
void quickSort(int q[], int l, int r){
    if(l >= r) return;
    int i = l - 1, j = r + 1, x = q[l + r >> 1];
    while(i < j){
        do i++; while(q[i] < x);
        do j--; while(q[j] > x);
        if(i < j) swap(q[i], q[j]);
    }
    quickSort(q, l, j);
    quickSort(q, j + 1, r);
}

int main(){
    int n;
    scanf("%d", &n);
    for(int i = 0; i < n; i++) scanf("%d", &q[i]);

    quickSort(q, 0, n - 1);

    for(int i = 0; i < n; i++) printf("%d ", q[i]);
    return 0;
}
```
</details>

---

## ğŸ§¬ 2. å½’å¹¶æ’åº

> **æ ¸å¿ƒæ€æƒ³**ï¼šå½’å¹¶æ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆã€ç¨³å®šçš„æ’åºç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦å§‹ç»ˆä¸º O(n log n)ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å®ƒå°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ã€‚

### 2.1 å½’å¹¶æ’åº

<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>

- **æ´›è°·**:
  
    - https://www.luogu.com.cn/problem/U232725
    - é¢˜å•: [å¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åº](https://www.luogu.com.cn/training/784214)
    - é¢˜å•: [å½’å¹¶æ’åº](https://www.luogu.com.cn/training/13545)
    



</details>

<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>


![image-20240112142425253](assets/image-20240112142425253.png)

> **å½’å¹¶æ’åºæ¨¡æ¿**

```cpp
#include<iostream>

using namespace std;

const int N = 1e5+7;
int q[N], tmp[N];

// å½’å¹¶æ’åºæ¨¡æ¿
void mergeSort(int q[], int l, int r){
    if(l >= r) return;
    int mid = l + r >> 1;
    mergeSort(q, l, mid);
    mergeSort(q, mid + 1, r);

    int k = 0, i = l, j = mid + 1;
    while(i <= mid && j <= r){
        if(q[i] <= q[j]) tmp[k++] = q[i++];
        else tmp[k++] = q[j++];
    }
    while(i <= mid) tmp[k++] = q[i++];
    while(j <= r) tmp[k++] = q[j++];

    for(int i = l, j = 0; i <= r; i++, j++) q[i] = tmp[j];
}

int main(){
    int n;
    scanf("%d", &n);
    for(int i = 0; i < n; i++) scanf("%d", &q[i]);
    
    mergeSort(q, 0, n - 1);
    
    for(int i = 0; i < n; i++) printf("%d ", q[i]);
    return 0;
}
```
</details>

### 2.2 é€†åºå¯¹çš„æ•°é‡

> **è§£æ³•æ€è·¯**ï¼šå½’å¹¶æ’åºåœ¨åˆå¹¶å·¦å³ä¸¤ä¸ªæœ‰åºå­æ•°ç»„æ—¶ï¼Œè‹¥å‘ç°å·¦è¾¹æ•°ç»„çš„å…ƒç´  `q[i]` å¤§äºå³è¾¹æ•°ç»„çš„å…ƒç´  `q[j]`ï¼Œåˆ™æ„å‘³ç€ `q[i]` ä»¥åŠå…¶åçš„æ‰€æœ‰å…ƒç´ ï¼ˆ`mid - i + 1`ä¸ªï¼‰éƒ½ä¸ `q[j]` æ„æˆé€†åºå¯¹ã€‚

<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>

- **æ´›è°·**:
    - [P1908 é€†åºå¯¹](https://www.luogu.com.cn/problem/P1908)
    - [U232725 é€†åºå¯¹](https://www.luogu.com.cn/problem/U232725)



</details>



<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240112142506445](assets/image-20240112142506445.png)

```cpp
#include<iostream>

using namespace std;

typedef long long LL;

const int N = 1e5+7;
int q[N], tmp[N];

LL mergeSort(int q[], int l, int r){
    if(l >= r) return 0;
    int mid = l + r >> 1;
    LL res = mergeSort(q, l, mid) + mergeSort(q, mid + 1, r);
    
    int k = 0, i = l, j = mid + 1;
    while(i <= mid && j <= r){
        if(q[i] <= q[j]) tmp[k++] = q[i++];
        else{
            tmp[k++] = q[j++];
            res += mid - i + 1;
        }
    }
    while(i <= mid) tmp[k++] = q[i++];
    while(j <= r) tmp[k++] = q[j++];
    
    for(int i = l, j = 0; i <= r; i++, j++) q[i] = tmp[j];
    
    return res;
}

int main(){
    int n;
    scanf("%d", &n);
    for(int i = 0; i < n; i++) scanf("%d", &q[i]);
    
    cout << mergeSort(q, 0, n - 1) << endl;
    
    return 0;
}
```
</details>

---

## ğŸ” 3. äºŒåˆ†æŸ¥æ‰¾

> **æ ¸å¿ƒæ€æƒ³**ï¼šäºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary Searchï¼‰æ˜¯ä¸€ç§åœ¨ **æœ‰åºæ•°ç»„** ä¸­æŸ¥æ‰¾ç‰¹å®šå…ƒç´ çš„æœç´¢ç®—æ³•ã€‚é€šè¿‡æ¯æ¬¡æ¯”è¾ƒæ•°ç»„ä¸­é—´å…ƒç´ ä¸ç›®æ ‡å€¼ï¼Œå¯ä»¥å°†æœç´¢èŒƒå›´ç¼©å°ä¸€åŠï¼Œä»è€Œå®ç° O(log n) çš„é«˜æ•ˆæŸ¥æ‰¾ã€‚

### 3.0 æ´›è°·é¢˜å•



| æ¥æº | é¢˜ç›®/é¢˜å•                                | è¯´æ˜                                      |
| ---- | ---------------------------------------- | ----------------------------------------- |
| æ´›è°· | https://www.luogu.com.cn/problem/U383691 | U383691 æ•°çš„èŒƒå›´                          |
| æ´›è°· | https://www.luogu.com.cn/problem/U548010 | U548010 æ•°çš„èŒƒå›´                          |
| æ´›è°· | https://www.luogu.com.cn/problem/U269026 | U269026 æ•°çš„èŒƒå›´                          |
| æ´›è°· | https://www.luogu.com.cn/problem/U319688 | U319688 æ•°çš„èŒƒå›´                          |
| æ´›è°· | https://www.luogu.com.cn/problem/U376595 | U376595 æ•°çš„èŒƒå›´                          |
| æ´›è°· | https://www.luogu.com.cn/problem/U494146 | U494146 æ•°çš„èŒƒå›´                          |
| æ´›è°· | https://www.luogu.com.cn/problem/T582716 | T582716 æ•°çš„èŒƒå›´                          |
| æ´›è°· | https://www.luogu.com.cn/problem/U269029 | U269029 æ•°çš„ä¸‰æ¬¡æ–¹æ ¹                      |
| æ´›è°· | https://www.luogu.com.cn/problem/T627060 | T627060 å¼€ä¸‰æ¬¡æ–¹æ ¹                        |
| æ´›è°· | https://www.luogu.com.cn/training/467123 | **3.0L2-C09-äºŒåˆ†æŸ¥æ‰¾ï¼ˆé¢˜å•ï¼‰**            |
| æ´›è°· | https://www.luogu.com.cn/training/767570 | **äºŒåˆ†ï¼ˆé¢˜å•ï¼‰**                          |
| æ´›è°· | https://www.luogu.com.cn/training/121749 | **äºŒåˆ†é¢˜å•ï¼ˆé¢˜å•ï¼‰**                      |
| æ´›è°· | https://www.luogu.com.cn/training/506313 | **äºŒåˆ†æŸ¥æ‰¾+äºŒåˆ†ç­”æ¡ˆï¼ˆé¢˜å•ï¼‰**             |
| æ´›è°· | https://www.luogu.com.cn/training/111    | **ã€ç®—æ³•1-6ã€‘äºŒåˆ†æŸ¥æ‰¾ä¸äºŒåˆ†ç­”æ¡ˆï¼ˆé¢˜å•ï¼‰** |
| æ´›è°· | https://www.luogu.com.cn/training/545539 | **äºŒåˆ†ç®—æ³•ï¼ˆæ™®åŠ-è‡³æ™®åŠ/æé«˜-ï¼‰ï¼ˆé¢˜å•ï¼‰** |
| æ´›è°· | https://www.luogu.com.cn/training/138949 | **äºŒåˆ†æŸ¥æ‰¾ï¼ˆé¢˜å•ï¼‰**                      |
| æ´›è°· | https://www.luogu.com.cn/training/10364  | **ã€æ™®åŠç»„è®­ç»ƒã€‘äºŒåˆ†ç­”æ¡ˆï¼ˆé¢˜å•ï¼‰**        |



### 3.1 æ•°çš„èŒƒå›´ï¼ˆæ•´æ•°äºŒåˆ†ï¼‰

<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>

- **æ´›è°·**:
    - [U383691 ã€æ¨¡æ¿ã€‘äºŒåˆ†æŸ¥æ‰¾](https://www.luogu.com.cn/problem/U383691)
    - é¢˜å•: [äºŒåˆ†æŸ¥æ‰¾/äºŒåˆ†ç­”æ¡ˆ](https://www.luogu.com.cn/training/111)

</details>

<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240112142601494](assets/image-20240112142601494.png)

> **æ•´æ•°äºŒåˆ†æ¨¡æ¿**
> 
> å…³é”®åœ¨äº `check` å‡½æ•°çš„å®ç°å’Œ `mid` çš„å–å€¼ï¼Œç¡®ä¿æ¯æ¬¡å¾ªç¯éƒ½èƒ½ç¼©å°èŒƒå›´ä¸”ä¸ä¼šæ­»å¾ªç¯ã€‚

```cpp
// æŸ¥æ‰¾å·¦è¾¹ç•Œï¼šåŒºé—´[l, r]è¢«åˆ’åˆ†ä¸º[l, mid]å’Œ[mid + 1, r]
int bsearch_left(int l, int r) {
    while (l < r) {
        int mid = l + r >> 1;
        if (check(mid)) r = mid;  // check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨
        else l = mid + 1;
    }
    return l;
}

// æŸ¥æ‰¾å³è¾¹ç•Œï¼šåŒºé—´[l, r]è¢«åˆ’åˆ†ä¸º[l, mid - 1]å’Œ[mid, r]
int bsearch_right(int l, int r) {
    while (l < r) {
        int mid = l + r + 1 >> 1;
        if (check(mid)) l = mid;
        else r = mid - 1;
    }
    return l;
}
```

> **é¢˜è§£ä»£ç **

```cpp
#include <iostream>

using namespace std;

const int N = 100010;

int q[N];

int main(){
    int n, m;
    scanf("%d%d", &n, &m);
    for(int i = 0; i < n; i++) scanf("%d", &q[i]);

    while(m--){
        int x;
        scanf("%d", &x);
        
        // æŸ¥æ‰¾èµ·å§‹ä½ç½®
        int l = 0, r = n - 1;
        while(l < r){
            int mid = l + r >> 1;
            if (q[mid] >= x) r = mid;
            else l = mid + 1;
        }

        if(q[l] != x) {
            cout << "-1 -1" << endl;
        } else {
            cout << l << " ";
            // æŸ¥æ‰¾ç»“æŸä½ç½®
            int l = 0, r = n - 1;
            while(l < r){
                int mid = l + r + 1 >> 1;
                if(q[mid] <= x) l = mid;
                else r = mid - 1;
            }
            cout << l << endl;
        }
    }
    return 0;
}
```
</details>

### 3.2 æ•°çš„ä¸‰æ¬¡æ–¹æ ¹ï¼ˆæµ®ç‚¹æ•°äºŒåˆ†ï¼‰

<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>

- **æ´›è°·**:
    - [U269029 æ•°çš„ä¸‰æ¬¡æ–¹æ ¹](https://www.luogu.com.cn/problem/U269029)
    - [T627060 å¼€ä¸‰æ¬¡æ–¹æ ¹](https://www.luogu.com.cn/problem/T627060)



</details>

<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240112142635251](assets/image-20240112142635251.png)

> **æµ®ç‚¹æ•°äºŒåˆ†æ¨¡æ¿**
>
> æµ®ç‚¹æ•°äºŒåˆ†ç›¸å¯¹ç®€å•ï¼Œä¸éœ€è¦å¤„ç†è¾¹ç•Œå’Œ `+1` çš„é—®é¢˜ã€‚å¾ªç¯æ¡ä»¶é€šå¸¸æ˜¯ `r - l > eps` (ç²¾åº¦) æˆ–å›ºå®šå¾ªç¯æ¬¡æ•°ã€‚

```cpp
//æµ®ç‚¹æ•°äºŒåˆ†æ¨¡æ¿
bool check(double x) {/* ... */} // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨

double bsearch_float(double l, double r) {
    const double eps = 1e-8; // eps è¡¨ç¤ºç²¾åº¦ï¼Œå–å†³äºé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚
    while (r - l > eps) {
        double mid = (l + r) / 2;
        if (check(mid)) r = mid;
        else l = mid;
    }
    return l;
}
```

> **é¢˜è§£ä»£ç **

```cpp
#include<iostream>
#include<iomanip>

using namespace std;

int main(){
    double n;
    cin >> n;
    
    double l = -10000, r = 10000;
    // ä¹Ÿå¯ä»¥å›ºå®šå¾ªç¯æ¬¡æ•°ï¼Œä¾‹å¦‚ for(int i=0; i<100; i++)
    while(r - l > 1e-8){
        double mid = (l + r) / 2;
        if(mid * mid * mid >= n) r = mid;
        else l = mid;
    }
    
    cout << fixed << setprecision(6) << l << endl;
    return 0;
} 
```
</details>

---

## ğŸ§® 4. é«˜ç²¾åº¦è®¡ç®—

> **æ ¸å¿ƒæ€æƒ³**ï¼šå½“ `long long` ä¹Ÿæ— æ³•å­˜å‚¨ä¸€ä¸ªæ•°æ—¶ï¼Œå°±éœ€è¦ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿå¤§æ•°çš„è¿ç®—ã€‚åŸºæœ¬æ€è·¯æ˜¯å°†å¤§æ•°é€†åºå­˜å‚¨åœ¨ `vector<int>` ä¸­ï¼Œæ¯ä¸ªå…ƒç´ å­˜ä¸€ä½æ•°å­—ï¼Œç„¶åæ¨¡æ‹Ÿæ‰‹ç®—çš„è¿‡ç¨‹ï¼ˆå¦‚åŠ æ³•ä¸­çš„è¿›ä½ã€å‡æ³•ä¸­çš„å€Ÿä½ï¼‰ã€‚

### 4.0 æ´›è°·é¢˜å•

| æ¥æº | é¢˜ç›®/é¢˜å•                                | è¯´æ˜                            |
| ---- | ---------------------------------------- | ------------------------------- |
| æ´›è°· | https://www.luogu.com.cn/training/398734 | é«˜ç²¾åº¦ä¸“é¡¹è®­ç»ƒç»ƒä¹ é¢˜ï¼ˆé¢˜å•ï¼‰    |
| æ´›è°· | https://www.luogu.com.cn/training/304001 | é«˜ç²¾åº¦ï¼ˆé¢˜å•ï¼‰                  |
| æ´›è°· | https://www.luogu.com.cn/training/106    | ã€ç®—æ³•1-1ã€‘æ¨¡æ‹Ÿä¸é«˜ç²¾åº¦ï¼ˆé¢˜å•ï¼‰ |



### 4.1 é«˜ç²¾åº¦åŠ æ³•


<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**:

  -  [P1601 A+B Problemï¼ˆé«˜ç²¾ï¼‰](https://www.luogu.com.cn/problem/P1601)
  - [U489586 é«˜ç²¾åº¦åŠ æ³•](https://www.luogu.com.cn/problem/U489586)



- **ç‰›å®¢**: [é«˜ç²¾åº¦åŠ æ³•](https://www.nowcoder.com/practice/49e772ab08994a96980f9618892e55b6)



</details>

<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240112142712055](assets/image-20240112142712055.png)

```cpp
#include<iostream>
#include<vector>
#include<string>
#include<algorithm>

using namespace std;

// é«˜ç²¾åº¦åŠ æ³•æ¨¡æ¿
vector<int> add(vector<int> &A, vector<int> &B){
    vector<int> C; 
    int t = 0; // è¿›ä½
    for(int i = 0; i < A.size() || i < B.size() || t; i++){
        if(i < A.size()) t += A[i];
        if(i < B.size()) t += B[i];
        C.push_back(t % 10);
        t /= 10;
    }
    return C;
}

int main(){
    string a, b;
    cin >> a >> b;
    vector<int> A, B;
    for(int i = a.size() - 1; i >= 0; i--) A.push_back(a[i] - '0');
    for(int i = b.size() - 1; i >= 0; i--) B.push_back(b[i] - '0');
    
    vector<int> C = add(A, B);
    
    for(int i = C.size() - 1; i >= 0; i--) cout << C[i];
    cout << endl;
    return 0;
}
```
</details>


### 4.2 é«˜ç²¾åº¦å‡æ³•


<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**: [P2142 é«˜ç²¾åº¦å‡æ³•](https://www.luogu.com.cn/problem/P2142)

</details>

<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240112142741757](assets/image-20240112142741757.png)

```cpp
#include<iostream>
#include<vector>
#include<string>

using namespace std;

// æ¯”è¾ƒ A æ˜¯å¦ >= B
bool cmp(vector<int> &A, vector<int> &B){
    if(A.size() != B.size()) return A.size() > B.size();
    for(int i = A.size() - 1; i >= 0; i--){
        if(A[i] != B[i]) return A[i] > B[i];
    }
    return true;
}

// é«˜ç²¾åº¦å‡æ³•æ¨¡æ¿ (A - B)
vector<int> sub(vector<int> &A, vector<int> &B){
    vector<int> C; 
    int t = 0; // å€Ÿä½
    for(int i = 0; i < A.size(); i++){
        t = A[i] - t;
        if(i < B.size()) t -= B[i];
        C.push_back((t + 10) % 10);
        if(t < 0) t = 1;
        else t = 0;
    }
    while(C.size() > 1 && C.back() == 0) C.pop_back(); // å»æ‰å‰å¯¼0
    return C;
}

int main(){
    string a, b;
    cin >> a >> b;
    vector<int> A, B;
    for(int i = a.size() - 1; i >= 0; i--) A.push_back(a[i] - '0');
    for(int i = b.size() - 1; i >= 0; i--) B.push_back(b[i] - '0');
    
    vector<int> C;
    if(cmp(A, B)) {
        C = sub(A, B);
    } else {
        C = sub(B, A);
        cout << "-";
    }

    for(int i = C.size() - 1; i >= 0; i--) cout << C[i];
    cout << endl;
    return 0;
}
```
</details>




### 4.3 é«˜ç²¾åº¦ä¹˜æ³•

<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**

  -  [U371642 ã€æ¨¡æ¿ã€‘é«˜ç²¾åº¦ä¹˜æ³•](https://www.luogu.com.cn/problem/U371642)




</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240112142804068](assets/image-20240112142804068.png)

```cpp
#include<iostream>
#include<vector>
#include<string>

using namespace std;

// é«˜ç²¾åº¦ä¹˜æ³•æ¨¡æ¿ (å¤§æ•° * å°æ•°)
vector<int> mul(vector<int> &A, int b){
    vector<int> C; 
    int t = 0; // è¿›ä½
    for(int i = 0; i < A.size() || t; i++){
        if(i < A.size()) t += A[i] * b;
        C.push_back(t % 10);
        t /= 10;
    }
    while(C.size() > 1 && C.back() == 0) C.pop_back();
    return C;
}

int main(){
    string a;
    int b;
    cin >> a >> b;
    vector<int> A;
    for(int i = a.size() - 1; i >= 0; i--) A.push_back(a[i] - '0');
    
    vector<int> C = mul(A, b);
    
    for(int i = C.size() - 1; i >= 0; i--) cout << C[i];
    cout << endl;
    return 0;
}
```
</details>




### 4.4 é«˜ç²¾åº¦é™¤æ³•

<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**: [P1480 A/B Problem](https://www.luogu.com.cn/problem/P1480)

</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240112142832710](assets/image-20240112142832710.png)

```cpp
#include<iostream>
#include<algorithm>
#include<vector>
#include<string>

using namespace std;

// é«˜ç²¾åº¦é™¤æ³•æ¨¡æ¿ (å¤§æ•° / å°æ•°)ï¼Œræ˜¯ä½™æ•°
vector<int> div(vector<int> &A, int b, int &r){
    vector<int> C; 
    r = 0;
    for(int i = A.size() - 1; i >= 0; i--){
        r = r * 10 + A[i]; 
        C.push_back(r / b);
        r %= b;
    }
    reverse(C.begin(), C.end());
    while(C.size() > 1 && C.back() == 0) C.pop_back();
    return C;
}

int main(){
    string a;
    int b, r;
    cin >> a >> b;
    vector<int> A;
    for(int i = a.size() - 1; i >= 0; i--) A.push_back(a[i] - '0');
    
    vector<int> C = div(A, b, r);
    
    for(int i = C.size() - 1; i >= 0; i--) cout << C[i];
    cout << endl << r << endl;
    return 0;
}
```
</details>


---

## ğŸ“Š 5. å‰ç¼€å’Œä¸å·®åˆ†

> **æ ¸å¿ƒæ€æƒ³**ï¼šå‰ç¼€å’Œä¸å·®åˆ†æ˜¯ä¸€å¯¹é€†è¿ç®—ï¼Œæ˜¯å¤„ç† **åŒºé—´é—®é¢˜** çš„åˆ©å™¨ã€‚å‰ç¼€å’Œèƒ½ O(1) åœ°æ±‚å‡ºæ•°ç»„ä»»æ„åŒºé—´çš„å’Œï¼Œè€Œå·®åˆ†åˆ™èƒ½ O(1) åœ°å¯¹æ•°ç»„çš„ä»»æ„åŒºé—´è¿›è¡Œæ‰¹é‡å¢å‡æ“ä½œã€‚

### 5.0 æ´›è°·é¢˜å•

| æ¥æº | é¢˜ç›®/é¢˜å•                                | è¯´æ˜                                    |
| ---- | ---------------------------------------- | --------------------------------------- |
| æ´›è°· | https://www.luogu.com.cn/training/168559 | å‰ç¼€å’Œä¸å·®åˆ†ï¼ˆé¢˜å•ï¼‰                    |
| æ´›è°· | https://www.luogu.com.cn/training/671085 | ä¸€ç»´å‰ç¼€å’Œï¼ˆé¢˜å•ï¼‰                      |
| æ´›è°· | https://www.luogu.com.cn/training/4013   | å·®åˆ†å…¥é—¨ï¼ˆé¢˜å•ï¼‰                        |
| æ´›è°· | https://www.luogu.com.cn/training/485232 | å·®åˆ† ï¼ˆé¢˜å•ï¼‰                           |
| æ´›è°· | https://www.luogu.com.cn/training/46475  | å·®åˆ†ã€æ ‘ä¸Šå·®åˆ†ï¼ˆé¢˜å•ï¼‰                  |
| æ´›è°· | https://www.luogu.com.cn/training/200    | ã€ç®—æ³•2-1ã€‘å‰ç¼€å’Œã€å·®åˆ†ä¸ç¦»æ•£åŒ–ï¼ˆé¢˜å•ï¼‰ |



### 5.1 å‰ç¼€å’Œï¼ˆä¸€ç»´ï¼‰


<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**:

  -  [P8218 ã€æ·±åŸº2.ä¾‹12ã€‘æ±‚åŒºé—´å’Œ](https://www.luogu.com.cn/problem/P8218)
  - [U410636 ä¸€ç»´å‰ç¼€å’Œ](https://www.luogu.com.cn/problem/U410636)


</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240112142944977](assets/image-20240112142944977.png)

> **ä¸€ç»´å‰ç¼€å’Œå…¬å¼**
>
> ```
> S[i] = a + a + ... + a[i]
> a[l] + ... + a[r] = S[r] - S[l - 1]
> ```

```cpp
#include <iostream>
using namespace std;
const int N = 1e5 + 10;
int a[N], s[N];

int main(){
    int n, m;
    cin >> n >> m;
    for(int i = 1; i <= n; i++) cin >> a[i];
    // åˆå§‹åŒ–å‰ç¼€å’Œæ•°ç»„
    for(int i = 1; i <= n; i++) s[i] = s[i-1] + a[i];
    
    while(m--){
        int l, r;
        cin >> l >> r;
        cout << s[r] - s[l - 1] << endl;
    }
    return 0;
}
```
</details>


### 5.2 å­çŸ©é˜µçš„å’Œï¼ˆäºŒç»´ï¼‰



<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**

  -  [U388817 ã€æ¨¡æ¿ã€‘äºŒç»´å‰ç¼€å’Œ](https://www.luogu.com.cn/problem/U388817)
  - [T271585 ã€æ¨¡æ¿ã€‘äºŒç»´å‰ç¼€å’Œ](https://www.luogu.com.cn/problem/T271585)
  - [U567555 äºŒç»´å‰ç¼€å’Œ-æ¨¡æ¿](https://www.luogu.com.cn/problem/U567555)


</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240112150043615](assets/image-20240112150043615.png)

> **äºŒç»´å‰ç¼€å’Œå…¬å¼** (å®¹æ–¥åŸç†)
> ```
> S[i,j] = S[i-1,j] + S[i,j-1] - S[i-1,j-1] + a[i,j]
> Sum(x1,y1,x2,y2) = S[x2,y2] - S[x1-1,y2] - S[x2,y1-1] + S[x1-1,y1-1]
> ```


```cpp
#include <iostream>
using namespace std;
const int N = 1e3 + 10;
int a[N][N], s[N][N];

int main(){
    int n, m, q;
    cin >> n >> m >> q;
    for(int i = 1; i <= n; i++)
        for(int j = 1; j <= m; j++)
            cin >> a[i][j];
    
    // åˆå§‹åŒ–äºŒç»´å‰ç¼€å’Œæ•°ç»„
    for(int i = 1; i <= n; i++)
        for(int j = 1; j <= m; j++)
            s[i][j] = s[i-1][j] + s[i][j-1] - s[i-1][j-1] + a[i][j];
            
    while(q--){
        int x1, y1, x2, y2;
        cin >> x1 >> y1 >> x2 >> y2;
        cout << s[x2][y2] - s[x1-1][y2] - s[x2][y1-1] + s[x1-1][y1-1] << endl;
    }
    return 0;
}
```
</details>


### 5.3 å·®åˆ†ï¼ˆä¸€ç»´ï¼‰


<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**: [P2367 è¯­æ–‡æˆç»©](https://www.luogu.com.cn/problem/P2367)

</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240114102844804](assets/image-20240114102844804.png)

> **ä¸€ç»´å·®åˆ†æ“ä½œ**
> ```c++
> // ç»™åŒºé—´[l, r]ä¸­çš„æ¯ä¸ªæ•°åŠ ä¸Šc
> B[l] += c, B[r + 1] -= c
> ```

```cpp
#include<iostream>
using namespace std;
const int N = 1e5+10;
int a[N], b[N]; // aä¸ºåŸæ•°ç»„ï¼Œbä¸ºå·®åˆ†æ•°ç»„

void insert(int l, int r, int c){
    b[l] += c;
    b[r + 1] -= c;
}

int main(){
    int n, m;
    cin >> n >> m;
    for(int i = 1; i <= n; i++) cin >> a[i];
    // åˆå§‹åŒ–å·®åˆ†æ•°ç»„b
    for(int i = 1; i <= n; i++) insert(i, i, a[i]);
    
    while(m--){
        int l, r, c;
        cin >> l >> r >> c;
        insert(l, r, c);
    }
    
    // é€šè¿‡å‰ç¼€å’Œè¿˜åŸæ•°ç»„a
    for(int i = 1; i <= n; i++) a[i] = a[i - 1] + b[i];
    for(int i = 1; i <= n; i++) cout << a[i] << " ";
    cout << endl;
    return 0;
}
```

</details>


### 5.4 å·®åˆ†çŸ©é˜µï¼ˆäºŒç»´ï¼‰


<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**: [U223961 å·®åˆ†çŸ©é˜µ](https://www.luogu.com.cn/problem/U223961)

</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240114154838383](assets/image-20240114154838383.png)

> **äºŒç»´å·®åˆ†æ“ä½œ**
> ```c++
> // ç»™ä»¥(x1, y1)ä¸ºå·¦ä¸Šè§’ï¼Œ(x2, y2)ä¸ºå³ä¸‹è§’çš„å­çŸ©é˜µæ‰€æœ‰å…ƒç´ åŠ ä¸Šc
> b[x1][y1] += c;
> b[x2 + 1][y1] -= c;
> b[x1][y2 + 1] -= c;
> b[x2 + 1][y2 + 1] += c;
> ```

```cpp
#include<iostream>
using namespace std;
const int N = 1e3+10;
int a[N][N], b[N][N];

void insert(int x1, int y1, int x2, int y2, int c){
    b[x1][y1] += c;
    b[x2 + 1][y1] -= c;
    b[x1][y2 + 1] -= c;
    b[x2 + 1][y2 + 1] += c;
} 

int main(){
    int n, m, q;
    cin >> n >> m >> q;
    for(int i = 1; i <= n; i++)
        for(int j = 1; j <= m; j++)
            cin >> a[i][j];
            
    // åˆå§‹åŒ–å·®åˆ†æ•°ç»„b
    for(int i = 1; i <= n; i++)
        for(int j = 1; j <= m; j++)
            insert(i, j, i, j, a[i][j]);
            
    while(q--){
        int x1, y1, x2, y2, c;
        cin >> x1 >> y1 >> x2 >> y2 >> c;
        insert(x1, y1, x2, y2, c);
    }
    
    // é€šè¿‡å‰ç¼€å’Œè¿˜åŸæ•°ç»„a
    for(int i = 1; i <= n; i++)
        for(int j = 1; j <= m; j++)
            a[i][j] = a[i-1][j] + a[i][j-1] - a[i-1][j-1] + b[i][j];
            
    for(int i = 1; i <= n; i++){
        for(int j = 1; j <= m; j++)
            cout << a[i][j] << " ";
        cout << endl;
    }
    return 0;
}
```
</details>


---

## ğŸ‘‰ğŸ‘ˆ 6. åŒæŒ‡é’ˆç®—æ³•

> **æ ¸å¿ƒæ€æƒ³**ï¼šåŒæŒ‡é’ˆç®—æ³•æ˜¯ä¸€ç§é€šè¿‡ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆåœ¨åºåˆ—ä¸­ **åŒå‘** æˆ– **ç›¸å‘** ç§»åŠ¨ï¼Œæ¥ä¼˜åŒ–æš´åŠ›æšä¸¾çš„æŠ€å·§ã€‚å®ƒé€šå¸¸èƒ½å°† O(nÂ²) çš„å¤æ‚åº¦ä¼˜åŒ–åˆ° O(n)ï¼Œå¸¸ç”¨äºè§£å†³å­åºåˆ—ã€æ•°ç»„å’Œç­‰é—®é¢˜ã€‚

### 6.0 æ´›è°·é¢˜å•

| æ¥æº | é¢˜ç›®/é¢˜å•                                | è¯´æ˜           |
| ---- | ---------------------------------------- | -------------- |
| æ´›è°· | https://www.luogu.com.cn/training/306156 | åŒæŒ‡é’ˆï¼ˆé¢˜å•ï¼‰ |



### 6.1 æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—

<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**

  -  [U224090 æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—](https://www.luogu.com.cn/problem/U224090)
  - [U492053 æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—](https://www.luogu.com.cn/problem/U492053)




</details>



<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>

â€‹    


![image-20240115101055126](assets/image-20240115101055126.png)

> 1ã€**åŒæŒ‡é’ˆç®—æ³•æ¨¡æ¿**
>
> ```cpp
> for (int i = 0, j = 0; i < n; i++) {
>  while (j < i && check(i, j)) j++;
>  // å…·ä½“é—®é¢˜çš„é€»è¾‘
> }
> ```
>
> 2ã€**å¸¸è§é—®é¢˜åˆ†ç±»ï¼š**
>     (1) å¯¹äºä¸€ä¸ªåºåˆ—ï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆç»´æŠ¤ä¸€æ®µåŒºé—´
>     (2) å¯¹äºä¸¤ä¸ªåºåˆ—ï¼Œç»´æŠ¤æŸç§æ¬¡åºï¼Œæ¯”å¦‚å½’å¹¶æ’åºä¸­åˆå¹¶ä¸¤ä¸ªæœ‰åºåºåˆ—çš„æ“ä½œ





```cpp
#include<iostream>
#include<algorithm>
using namespace std;
const int N = 1e5+10;
int a[N], s[N]; // sæ•°ç»„ç”¨äºè®¡æ•°

int main(){
    int n;
    cin >> n;
    for(int i = 0; i < n; i++) cin >> a[i];
    
    int res = 0;
    // iæŒ‡é’ˆå‘å³ç§»åŠ¨ï¼ŒjæŒ‡é’ˆåœ¨éœ€è¦æ—¶è·Ÿè¿›
    for(int i = 0, j = 0; i < n; i++){
        s[a[i]]++;
        // å½“a[i]å‡ºç°æ¬¡æ•°>1æ—¶ï¼Œç§»åŠ¨jæŒ‡é’ˆç›´åˆ°çª—å£å†…æ— é‡å¤å…ƒç´ 
        while(s[a[i]] > 1){
            s[a[j]]--;
            j++;
        }
        res = max(res, i - j + 1);
    }
    cout << res << endl;
    return 0;
}
```
</details>




### 6.2 æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ


<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**: [U268985 æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ](https://www.luogu.com.cn/problem/U268985)

</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240115103002597](assets/image-20240115103002597.png)

```cpp
#include<iostream>
using namespace std;
const int N = 1e5+10;
int a[N], b[N];

int main(){
    int n, m, x;
    cin >> n >> m >> x;
    for(int i = 0; i < n; i++) cin >> a[i];
    for(int i = 0; i < m; i++) cin >> b[i];
    
    // i ä»å·¦å‘å³ï¼Œj ä»å³å‘å·¦ï¼Œç›¸å‘è€Œè¡Œ
    for(int i = 0, j = m - 1; i < n; i++){
        while(j >= 0 && a[i] + b[j] > x) j--;
        if(j >= 0 && a[i] + b[j] == x){
            cout << i << " " << j << endl;
            break;
        }
    }
    return 0;
}
```

</details>


### 6.3 åˆ¤æ–­å­åºåˆ—

<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>

- **æ´›è°·**: [U269021 ã€æ¨¡æ¿ã€‘åˆ¤æ–­å­åºåˆ—](https://www.luogu.com.cn/problem/U269021)

</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240115152103661](assets/image-20240115152103661.png)

```cpp
#include<iostream>
using namespace std;
const int N = 1e5+10;
int a[N], b[N];

int main(){
    int n, m;
    cin >> n >> m;
    for(int i = 0; i < n; i++) cin >> a[i];
    for(int i = 0; i < m; i++) cin >> b[i];
    
    int i = 0, j = 0;
    // i, j æŒ‡é’ˆåŒå‘ç§»åŠ¨
    while(i < n && j < m){
        if(a[i] == b[j]) i++;
        j++;
    }
    
    if(i == n) cout << "Yes" << endl;
    else cout << "No" << endl;
    
    return 0;
}
```
</details>


---

## âš™ï¸ 7. ä½è¿ç®—

> **æ ¸å¿ƒæ€æƒ³**ï¼šä½è¿ç®—æ˜¯ç›´æ¥å¯¹æ•´æ•°åœ¨å†…å­˜ä¸­çš„äºŒè¿›åˆ¶ä½è¿›è¡Œæ“ä½œï¼Œé€Ÿåº¦æå¿«ã€‚ç†Ÿç»ƒæŒæ¡ä½è¿ç®—æŠ€å·§ï¼ˆå¦‚ `n >> k & 1` å–å‡ºç¬¬ k ä½ï¼Œ`x & -x` å³ `lowbit` æ“ä½œç­‰ï¼‰æ˜¯è§£å†³æ ‘çŠ¶æ•°ç»„ç­‰é—®é¢˜çš„åŸºç¡€ã€‚

### 7.0 æ´›è°·é¢˜å•

| æ¥æº | é¢˜ç›®/é¢˜å•                                | è¯´æ˜               |
| ---- | ---------------------------------------- | ------------------ |
| æ´›è°· | https://www.luogu.com.cn/training/406978 | ä½è¿ç®—ï¼ˆé¢˜å•ï¼‰     |
| æ´›è°· | https://www.luogu.com.cn/training/463970 | ä½è¿ç®—é¢˜å•ï¼ˆé¢˜å•ï¼‰ |



### 7.1 äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°



<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**: [U199197 ã€æ¨¡æ¿ã€‘äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°](https://www.luogu.com.cn/problem/U199197)

</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240115155536401](assets/image-20240115155536401.png)

> **ä½è¿ç®—å¸¸ç”¨æŠ€å·§**
> 1.  **æ±‚ n çš„ç¬¬ k ä½æ•°å­—**: `n >> k & 1`
> 2.  **lowbit(x)**: è¿”å› x çš„æœ€åä¸€ä½ 1ã€‚`x & -x` (è´Ÿæ•°åœ¨è®¡ç®—æœºä¸­ç”¨è¡¥ç è¡¨ç¤º)



> ä½è¿ç®—æ¨¡æ¿ 
>
> 1ã€æ±‚nçš„äºŒè¿›åˆ¶ä¸­çš„ç¬¬kä½æ•°å­—ï¼ˆä»æœ€ä½ä½å¼€å§‹æ•°ï¼Œæœ€ä½ä½æ˜¯ç¬¬0ä½ï¼Œå…ˆè®©xçš„äºŒè¿›åˆ¶å³ç§»kä½ï¼Œå†å’Œ1çš„äºŒè¿›åˆ¶æ•°è¿›è¡Œä¸è¿ç®—;æ¯”å¦‚n=101010000,k=4,å°±æ˜¯è¦å–101010000çš„ç¬¬å››ä½æ•°å­—ä¹Ÿå°±æ˜¯1ï¼Œå…ˆå³ç§»4ä½æˆ10101ï¼Œå†å’Œ00001ä¸è¿ç®—å¾—1ï¼Œä»»ä½•æ•°ä¸1è¿›è¡Œä¸è¿ç®—éƒ½å¾—æœ€ä½ä½ï¼‰ï¼Œä»£ç å®ç°ï¼š
>
>  `int result = n>>k&1;`
>
> 2ã€è¿”å›nçš„äºŒè¿›åˆ¶çš„ä»æœ€ä½ä½å¼€å§‹æ•°çš„ç¬¬ä¸€ä½1åŠä½ä½çš„æ‰€æœ‰æ•°å­—ï¼ˆæ¯”å¦‚101010000å°±æ˜¯è¿”å›10000ï¼‰ï¼Œå¦‚æœ x çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯æ­£æ•°ï¼Œé‚£ä¹ˆ -x çš„äºŒè¿›åˆ¶è¡¨ç¤ºå°±æ˜¯ x çš„è¡¥ç ,å³xä¸xå¾—è¡¥ç è¿›è¡Œä¸è¿ç®—ï¼Œæ¯”å¦‚101010000ï¼Œå³101010000&010110000ï¼Œå¾—10000ã€‚ä»£ç å®ç°ï¼š
>
> ```c++
> int lowbit(int x){
> 	return x&-x;
> ```



```cpp
#include<iostream>
using namespace std;

// è¿”å›xçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œæœ€åä¸€ä½1æ‰€ä»£è¡¨çš„å€¼
int lowbit(int x){
    return x & -x;
}

int main(){
    int n;
    cin >> n;
    while(n--){
        int x;
        cin >> x;
        int count = 0;
        while(x){
            x -= lowbit(x); // æ¯æ¬¡å‡å»æœ€åä¸€ä½1
            count++;
        }
        cout << count << " ";
    }
    cout << endl;
    return 0;
}
```

</details>

---

## ğŸ—ºï¸ 8. ç¦»æ•£åŒ–

> **æ ¸å¿ƒæ€æƒ³**ï¼šå½“é—®é¢˜æ¶‰åŠçš„æ•°æ®èŒƒå›´å¾ˆå¤§ï¼ˆå¦‚ `10^9`ï¼‰ï¼Œä½†å®é™…ç”¨åˆ°çš„æ•°æ®ç‚¹ä¸ªæ•°å´å¾ˆå°‘æ—¶ï¼ˆå¦‚ `10^5`ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›ç¨€ç–çš„å¤§æ•° **æ˜ å°„** åˆ°ä¸€ä¸ªè¾ƒå°çš„è¿ç»­æ•´æ•°èŒƒå›´å†…ï¼ˆå¦‚ `1..10^5`ï¼‰ï¼Œè¿™å°±æ˜¯ç¦»æ•£åŒ–ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§å“ˆå¸Œï¼Œé€šå¸¸ç”¨äºé…åˆæ ‘çŠ¶æ•°ç»„ã€çº¿æ®µæ ‘ç­‰æ•°æ®ç»“æ„ã€‚

### 8.0 æ´›è°·é¢˜å•

| æ¥æº | é¢˜ç›®/é¢˜å•                                | è¯´æ˜                       |
| ---- | ---------------------------------------- | -------------------------- |
| æ´›è°· | https://www.luogu.com.cn/training/878154 | é¢˜å•â€”â€”é›†åˆä¸ç¦»æ•£åŒ–ï¼ˆé¢˜å•ï¼‰ |



### 8.1 åŒºé—´å’Œ


<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**: [U415396 ã€æ¨¡æ¿ã€‘ç¦»æ•£åŒ–](https://www.luogu.com.cn/problem/U415396)

</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>


![image-20240116135755784](assets/image-20240116135755784.png)





![åŒºé—´å’Œ](assets/ç¦»æ•£åŒ–ç¤ºæ„å›¾1.png)



![åŒºé—´å’Œ2](assets/ç¦»æ•£åŒ–ç¤ºæ„å›¾2.png)

> **ç¦»æ•£åŒ–æ¨¡æ¿**
> ```cpp
> vector<int> alls; // å­˜å‚¨æ‰€æœ‰å¾…ç¦»æ•£åŒ–çš„å€¼
> sort(alls.begin(), alls.end()); // æ’åº
> alls.erase(unique(alls.begin(), alls.end()), alls.end()); // å»é‡
> 
> // é€šè¿‡äºŒåˆ†æŸ¥æ‰¾xç¦»æ•£åŒ–åçš„å€¼
> int find(int x) {
>     int l = 0, r = alls.size() - 1;
>     while(l < r) {
>         int mid = l + r >> 1;
>         if (alls[mid] >= x) r = mid;
>         else l = mid + 1;
>     }
>     return r + 1; // æ˜ å°„åˆ°1, 2, ...
> }                
> ```

```cpp
#include<iostream>
#include<vector>
#include<algorithm>
using namespace std;
typedef pair<int, int> PII;
const int N = 3e5 + 10;

int a[N],s[N];//a[N]æ˜¯å­˜å‚¨æ’å…¥åæ ‡çš„å€¼çš„æ•°ç»„ï¼Œå¹¶ä¸”æ’å…¥åæ ‡å’Œaçš„ç´¢å¼•ç›¸å¯¹åº”ï¼Œsæ˜¯açš„å‰ç¼€å’Œæ•°ç»„ï¼Œä¸Šå›¾ä¸­çš„aå’Œsæ•°ç»„æ˜¯ä»ä¸‹æ ‡1å¼€å§‹ç”»çš„ï¼ˆå›¾æœ‰ç‚¹é”™è¯¯ï¼‰
vector<int> alls;//allsæ˜¯å­˜å‚¨æ‰€æœ‰åæ ‡çš„æ•°ç»„ï¼Œä¸Šå›¾ä¸­çš„allsæ•°ç»„æ˜¯ä»ä¸‹æ ‡0å¼€å§‹ç”»çš„ï¼Œæ‰€ä»¥findé‚£é‡Œè¦returnçš„rè¦åŠ 1ï¼Œæ‰èƒ½æ­£ç¡®æ˜ å°„åˆ°aå’Œsæ•°ç»„ï¼ˆå›¾æœ‰ç‚¹é”™è¯¯ï¼‰
vector<PII> add,query;//addæ˜¯å­˜å‚¨æ’å…¥åæ ‡å’Œæ’å…¥å€¼çš„å®¹å™¨ï¼Œqueryæ˜¯å­˜å‚¨æŸ¥è¯¢åæ ‡çš„å®¹å™¨

// è¿”å›xç¦»æ•£åŒ–åçš„ä¸‹æ ‡
int find(int x){
    int l = 0, r = alls.size() - 1;
    while(l < r){
        int mid = l + r >> 1;
        if(alls[mid] >= x) r = mid;
        else l = mid + 1;
    }
    return r + 1; // æ˜ å°„åˆ°1å¼€å§‹çš„ä¸‹æ ‡
}

int main(){
    int n, m;
    cin >> n >> m;
    for(int i = 0; i < n; i++){
        int x, c;
        cin >> x >> c;
        add.push_back({x, c});
        alls.push_back(x);
    }
    for(int i = 0; i < m; i++){
        int l, r;
        cin >> l >> r;
        query.push_back({l, r});
        alls.push_back(l);
        alls.push_back(r);
    }
    
    // æ’åºå»é‡
    sort(alls.begin(), alls.end());
    alls.erase(unique(alls.begin(), alls.end()), alls.end()); 
    
    // å¤„ç†æ’å…¥æ“ä½œ
    for(auto item : add){
        int x = find(item.first);
        a[x] += item.second;
    }
    
    // é¢„å¤„ç†å‰ç¼€å’Œ
    for(int i = 1; i <= alls.size(); i++) s[i] = s[i-1] + a[i];
    
    // å¤„ç†æŸ¥è¯¢æ“ä½œ
    for(auto item : query){
        int l = find(item.first);
        int r = find(item.second);
        cout << s[r] - s[l-1] << endl;
    }
    
    return 0;
} 
```

</details>


---

## ğŸ¤ 9. åŒºé—´åˆå¹¶

> **æ ¸å¿ƒæ€æƒ³**ï¼šå°†ä¸€ç³»åˆ—å¯èƒ½å­˜åœ¨äº¤é›†çš„åŒºé—´åˆå¹¶æˆä¸€ä¸ªæˆ–å¤šä¸ªæ— äº¤é›†çš„è¿ç»­åŒºé—´ã€‚å…¶æ ‡å‡†åšæ³•æ˜¯ï¼šé¦–å…ˆæŒ‰åŒºé—´çš„ **å·¦ç«¯ç‚¹** è¿›è¡Œæ’åºï¼Œç„¶åéå†æ’åºåçš„åŒºé—´ï¼Œç»´æŠ¤ä¸€ä¸ªå½“å‰åˆå¹¶çš„åŒºé—´ `[st, ed]`ï¼Œå¹¶ä¸ä¸‹ä¸€ä¸ªåŒºé—´è¿›è¡Œæ¯”è¾ƒå’Œåˆå¹¶ã€‚

### 9.1 åŒºé—´åˆå¹¶

<details>
<summary><strong>ğŸ”— ç»ƒä¹ å¹³å°</strong></summary>


- **æ´›è°·**: [U282660 ã€æ¨¡æ¿ã€‘åŒºé—´åˆå¹¶](https://www.luogu.com.cn/problem/U282660)

</details>


<details>
<summary><strong>ğŸ¯ AcWing é¢˜ç›®ä¸é¢˜è§£</strong></summary>



![image-20240117100135593](assets/image-20240117100135593.png)

> **åŒºé—´åˆå¹¶æ¨¡æ¿**
> ```cpp
> void merge(vector<PII> &segs) {
>  vector<PII> res;
>  sort(segs.begin(), segs.end());
>  int st = -2e9, ed = -2e9;
>  if (!segs.empty()) {
>      st = segs.first;
>      ed = segs.second;
>  }
>  for (int i = 1; i < segs.size(); i++) {
>      if (segs[i].first <= ed) {
>          ed = max(ed, segs[i].second);
>      } else {
>          res.push_back({st, ed});
>          st = segs[i].first;
>          ed = segs[i].second;
>      }
>  }
>  if (!segs.empty()) res.push_back({st, ed});
>  segs = res;
> }
> ```
>
>  



> **é¢˜è§£ä»£ç **


```cpp
#include<iostream>
#include<algorithm>
#include<vector>

using namespace std;

typedef pair<int, int> PII;

void merge(vector<PII> &segs){
    if(segs.empty()) return;

    vector<PII> res;
    sort(segs.begin(), segs.end());

    int st = segs.first, ed = segs.second;

    for(int i = 1; i < segs.size(); i++){
        if(segs[i].first <= ed){
            ed = max(ed, segs[i].second);
        } else {
            res.push_back({st, ed});
            st = segs[i].first;
            ed = segs[i].second;
        }
    }
    res.push_back({st, ed});
    segs = res;
}

int main(){
    vector<PII> segs;
    int n;
    cin >> n;
    while(n--){
        int l, r;
        cin >> l >> r;
        segs.push_back({l, r});
    }

    merge(segs);
    
    cout << segs.size() << endl;
    return 0;
}
```
</details>
