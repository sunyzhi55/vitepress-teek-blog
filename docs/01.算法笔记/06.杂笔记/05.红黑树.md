---
title: 红黑树
date: 2025-08-20 15:30:00
tags: [算法笔记, Data Structure]
categories: [算法笔记]
coverImg: /home/bg9.webp
description: 本文介绍了红黑树的基本概念、性质、插入和删除操作及其应用。
permalink: /algorithms/misc/red-black-tree
---
# 红黑树详解
红黑树（Red-Black Tree）是一种自平衡的二叉搜索树，广泛应用于计算机科学中的各种数据结构和算法中。它通过对节点进行着色和旋转操作来保持树的平衡，从而确保基本操作（如插入、删除和查找）的时间复杂度为 O(log n)。
## 红黑树的性质
红黑树具有以下五个基本性质：
1. **节点颜色**：每个节点要么是红色，要么是黑色。
2. **根节点**：根节点必须是黑色。
3. **叶子节点**：所有叶子节点（NIL节点）都是黑色。
4. **红色节点的子节点**：如果一个节点是红色的，则其子节点必须是黑色的（即不能有两个连续的红色节点）。
5. **黑色高度**：从任一节点到其所有后代叶子节点的路径上，必须包含相同数量的黑色节点。
## 插入操作
插入新节点时，初始将其着色为红色。然后，通过以下步骤调整树以满足红黑树的性质：
1. **情况1**：如果新节点的父节点是黑色，则不需要调整。
2. **情况2**：如果新节点的父节点是红色，则需要进行调整。根据叔叔节点的颜色，有以下两种情况：
   - **叔叔节点为红色**：将父节点和叔叔节点都着色为黑色，将祖父节点着色为红色，然后将当前节点指向祖父节点，继续检查。
   - **叔叔节点为黑色或NIL**：根据新节点的位置，进行旋转操作（左旋或右旋），并调整颜色以恢复红黑树的性质。
## 删除操作
删除节点时，可能会破坏红黑树的性质。删除操作分为以下几种情况：
1. **删除红色节点**：直接删除，不会破坏红黑树的性质。
2. **删除黑色节点**：需要进行调整以恢复红黑树的性质。根据被删除节点的兄弟节点颜色和子节点情况，进行相应的旋转和重新着色操作。
## 应用场景
红黑树广泛应用于各种场景，包括但不限于：
- 实现关联数组和集合（如C++的std::map和std::set
- 数据库索引
- 内存管理中的动态分配
## 复杂度分析
- 时间复杂度：插入、删除和查找操作的时间复杂度均为 O(log n)。
- 空间复杂度：O(n)，其中 n 是树中节点的数量。
通过本文的介绍，相信读者对红黑树有了更深入的理解。掌握红黑树对于提升数据结构和算法的知识水平具有重要意义。