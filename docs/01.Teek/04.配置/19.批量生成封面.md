---
categories:
- Teek
coverImg: /home/bg13.webp
date: 2025-05-17 17:25:59
description: åœ¨ä½¿ç”¨ VitePress æ„å»ºæ–‡æ¡£ç«™ç‚¹æ—¶ï¼Œæ‰‹åŠ¨ä¸ºæ¯ç¯‡ Markdown æ–‡ç« ç¼–å†™ Frontmatterï¼ˆå¦‚å°é¢ï¼‰ä¼šå¢åŠ é‡å¤å·¥ä½œé‡ã€‚é€šè¿‡å¼€å‘æˆ–é›†æˆæ’ä»¶ï¼Œå¯å®ç°æ ¹æ®æ–‡ä»¶å†…å®¹ã€æ–‡ä»¶åæˆ–é¢„è®¾è§„åˆ™è‡ªåŠ¨ç”Ÿæˆ
  Markdown æ–‡ç« çš„å°é¢ï¼Œå°¤å…¶é€‚åˆæ‰¹é‡å¯¼å…¥æ—§æ–‡æ¡£æˆ–æ ‡å‡†åŒ–å†…å®¹ç»“æ„çš„åœºæ™¯
permalink: /Teek/5a7b31
title: æ‰¹é‡ç”Ÿæˆå°é¢
---
::: tip æç¤º
è¿™æ˜¯ä¸€ä¸ªé€‚ç”¨äº vitepress çš„ Vite æ’ä»¶ï¼Œvitepress å¯åŠ¨æ—¶ï¼Œæ’ä»¶ä¼šæŒ‡å®šçš„ Markdown è‡ªåŠ¨ç”Ÿæˆ frontmatterã€‚

github åœ°å€ï¼š[ç‚¹å‡»è·³è½¬](https://github.com/Kele-Bingtang/vitepress-theme-teek/blob/main/plugins/vitepress-plugin-auto-frontmatter/README.md)
:::

## ç‰¹è‰² âœ¨

- ğŸš€ è‡ªåŠ¨ç”Ÿæˆ frontmatter
- ğŸš€ æ”¯æŒæ–°ä¹ ä¿— frontmatter

## å®‰è£…

::: code-group

```sh [pnpm æ¨è]
pnpm i vitepress-plugin-auto-frontmatter
```

```sh [npm]
npm install vitepress-plugin-auto-frontmatter
```

```sh [yarn]
yarn add vitepress-plugin-auto-frontmatter
```

:::

## é…ç½®

åœ¨ `vitepress/config.ts` ä¸­é…ç½®æ’ä»¶

::: tip æç¤º
å£çº¸è·å–åˆ—è¡¨è¯·å‚è€ƒ[Wallpaper](/pages/b09547)ã€‚ å›¾ç‰‡è·¯å¾„å¯ä»¥æ˜¯æœ¬åœ°ï¼ˆä¾‹å¦‚/img/bg/1.pngï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ¨çº¿ url(å°†å°é¢å£çº¸ä¸Šä¼ åˆ°è‡ªå·±å›¾åºŠåï¼ŒæŠŠå¤šä¸ªå£çº¸ url å†™åˆ°ä¸€ä¸ªåˆ—è¡¨é‡Œ)ã€‚ç„¶åéšæœºè‡ªåŠ¨æ³¨å…¥åˆ° `Markdown æ–‡ç« `æˆ–è€…æ–°åˆ›å»ºçš„ `Markdown æ–‡ç« `
:::

```ts
import { Wallpaper } from "./ConfigHyde/Wallaper"; // å¯¼å…¥Wallaperæ¨¡å—
const CoverImgList = Wallpaper; // è·å–å£çº¸åˆ—è¡¨

const teekConfig = defineTeekConfig({
  vitePlugins: {
    autoFrontmatterOption: {
      exclude: { title: true, date: true }, // æ’é™¤è‡ªåŠ¨ç”Ÿæˆå­—æ®µ
      transform: (frontmatter) => {
        // å¦‚æœæ–‡ä»¶æœ¬èº«å­˜åœ¨äº† coverImgï¼Œåˆ™ä¸ç”Ÿæˆ
        if (frontmatter.coverImg) return; // éšæœºè·å– coverImg

        const list = CoverImgList;

        const coverImg = list[Math.floor(Math.random() * list.length)];

        const transformResult = { ...frontmatter, coverImg };

        return Object.keys(transformResult).length
          ? transformResult
          : undefined;
      },
    },
  },
});
```

::: warning æ³¨æ„
è¯¥æ’ä»¶ä»…é™é¡¹ç›®å¯åŠ¨æ—¶ç”Ÿæ•ˆã€‚
:::

æ’ä»¶é»˜è®¤å¿½ç•¥ frontmatter ä¸­ layout: home å’Œ["node_modules", "dist"]ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä¸”åªæ‰«æ Markdown æ–‡æ¡£ã€‚

æ’ä»¶é»˜è®¤ç»™ Markdown æ–‡ä»¶ç”Ÿæˆ title å’Œ date ä¸¤ä¸ªå±æ€§ï¼Œå…¶ä¸­ title ä¸ºæ–‡ä»¶åï¼ˆæ”¯æŒå¸¦åºå·çš„æ–‡ä»¶åï¼Œå¦‚ 01.xx.mdï¼‰ï¼Œdate ä¸ºæ–‡ä»¶çš„åˆ›å»ºæ—¥æœŸã€‚

```md
---
title: æ–‡ä»¶å
date: yyyy-MM-dd hh:mm:ss
---
```

## æ‹“å±•

å¦‚æœå£çº¸ url åœ°å€æ›´æ¢äº†ï¼Œé‚£ä¹ˆ `Markdown æ–‡ç« `ä¹‹å‰è‡ªåŠ¨æ³¨å…¥çš„å°é¢å›¾ç‰‡ url åœ°å€è¿˜æ˜¯ä¹‹å‰çš„,è¿™æ—¶å€™éœ€è¦æ‰¹é‡å…ˆåˆ é™¤ coverImg ä¿¡æ¯ï¼Œå†é‡æ–°ç”Ÿæˆ coverImg ä¿¡æ¯,è¿™é‡Œå¯ä»¥åˆ©ç”¨ [Vscode](https://code.visualstudio.com/) çš„æœç´¢æ­£åˆ™è¡¨è¾¾å¼æ¥æ‰¹é‡æ›¿æ¢ä¸ºç©º

```sh
coverImg:\s*/home/[^,]*
```

æ­£åˆ™è¡¨è¾¾å¼å«ä¹‰è¯´æ˜ï¼š

- coverImg: ç›´æ¥åŒ¹é…å­—ç¬¦ä¸² "coverImg:"ï¼Œç”¨äºå®šä½ Frontmatter ä¸­çš„å°é¢å›¾ç‰‡å­—æ®µã€‚
- \s: åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªç©ºç™½å­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ç­‰ï¼‰ï¼Œç”¨äºå¤„ç†å†’å·åçš„å¯èƒ½ç¼©è¿›æˆ–æ¢è¡Œã€‚
- /home/: ç›´æ¥åŒ¹é…å­—ç¬¦ä¸² "/home/"ï¼Œè¡¨ç¤ºå°é¢å›¾ç‰‡è·¯å¾„ä»¥è¯¥ç›®å½•å¼€å¤´ã€‚
- [^,]_: åŒ¹é…é™¤é€—å·ä»¥å¤–çš„ä»»æ„å­—ç¬¦ï¼Œ_ è¡¨ç¤ºåŒ¹é…é›¶æ¬¡æˆ–å¤šæ¬¡
