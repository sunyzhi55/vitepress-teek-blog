---
categories:
- Twikoo
coverImg: /home/bg27.webp
date: 2025-02-15 17:47:07
permalink: /Teek/Twikoo
tags:
- Twikoo
title: Twikooè¯„è®º
---
::: tip æç¤º
æœ¬æ–‡æ˜¯åœ¨ åšä¸»[One](https://onedayxyy.cn/) æ–‡ç« ï¼š[ã€Šé…ç½® twikoo è¯„è®ºç³»ç»Ÿã€‹](https://onedayxyy.cn/teeker-twikoo) åŸºç¡€ä¸Šå¢åŠ äº†è‡ªå·±å®è·µè¿‡ç¨‹çš„ä¸€äº›ç»†èŠ‚ï¼Œè½¬è½½æ— éœ€å’Œæˆ‘è”ç³»ï¼Œä½†è¯·æ³¨æ˜æ–‡ç« æ¥æºã€‚å¦‚æœä¾µæƒä¹‹å¤„ï¼Œè¯·è”ç³»åšä¸»è¿›è¡Œåˆ é™¤ï¼Œè°¢è°¢~
:::

## éƒ¨ç½²æ–¹å¼

å®˜ç½‘ï¼šhttps://twikoo.js.org

Twikoo æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼ï¼šäº‘å‡½æ•°ï¼ŒVercelï¼Œç§æœ‰éƒ¨ç½²ã€Docker.... å…·ä½“å‚è§æ–‡æ¡£ï¼šhttps://twikoo.js.org/backend.html

â€ æœ€åŸå§‹çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ï¼Œæ­¥éª¤å¾ˆç®€å•ï¼šå®‰è£… node â†’ å®‰è£… tkserver â†’ å¯åŠ¨ã€‚

```sh
$ npm i -g tkserver

$ ln -s /opt/nodejs/node/bin/tkserver /usr/local/bin/tkserver

$ tkserver
```

ç„¶åå°±å¯ä»¥è®¿é—®äº†ï¼Œåœ°å€æ˜¯ï¼š`http://æœåŠ¡ç«¯IP:8080`

Linux æœåŠ¡å™¨å¯ä»¥ç”¨ `nohup tkserver >> tkserver.log 2>&1 &` å‘½ä»¤åå°å¯åŠ¨ã€‚

::: tip æç¤º
å¯èƒ½éœ€è¦åœ¨äº‘æœåŠ¡å™¨ä¸Šå¼€å¯ 8080 ç«¯å£çš„é˜²ç«å¢™
:::

è¿˜æ˜¯æ¨èç”¨ Docker æ¥éƒ¨ç½²ã€‚æˆ‘ä¹‹å‰æ˜¯ç”¨ç§æœ‰éƒ¨ç½²ï¼Œå‡ å¹´åæƒ³å‡çº§ Twikooï¼Œä½†æ˜¯å› ä¸º node ç‰ˆæœ¬å¤ªè€äº†ï¼Œå¯¼è‡´å‡çº§å¤±è´¥... ç„¶åè¯•ç€å‡çº§ nodeï¼Œåˆæ˜¯ä¸€å †æŠ¥é”™...

## Docker éƒ¨ç½²

```sh
docker run --name twikoo -e TWIKOO_THROTTLE=1000 -p 8080:8080 -v ${PWD}/data:/app/data -d imaegoo/twikoo
```

docker-compose.yaml å†…å®¹ï¼š

```yaml
version: "3"
services:
  twikoo:
    image: imaegoo/twikoo
    container_name: twikoo
    restart: unless-stopped
    ports:
      - 8080:8080
    environment:
      TWIKOO_THROTTLE: 1000
    volumes:
      - ./data:/app/data
```

è‡ªå·±å®é™…éƒ¨ç½²ï¼šğŸ˜œ

- åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªåä¸º `twikoo` çš„ Docker å®¹å™¨

```sh
docker run --name twikoo -e TWIKOO_THROTTLE=1000 -p 8426:8080 -v ${PWD}/data:/app/data -d imaegoo/twikoo
```

å¹¶åœ¨å…¶ä¸­ç”Ÿæˆäº†ä¸€ä¸ª `docker-compose.yaml` æ–‡ä»¶

```sh
# åˆ›å»ºåä¸º `twikoo` çš„ç›®å½•
mkdir /root/twikoo
# åˆ›å»ºdocker-compose.yaml æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹
cat >>/root/twikoo/docker-compose.yaml <<EOF
version: '3'
services:
  twikoo:
    image: imaegoo/twikoo
    container_name: twikoo
    restart: unless-stopped
    ports:
      - 8426:8080
    environment:
      TWIKOO_THROTTLE: 1000
    volumes:
      - ./data:/app/data
EOF

# è¿›å…¥è¯¥ç›®å½•
cd /root/twikoo
# æ£€æŸ¥ 8080 ç«¯å£æ˜¯å¦å·²ç»è¢«å…¶ä»–è¿›ç¨‹å ç”¨
netstat -antlp|grep 8080
# å¯åŠ¨twikooé•œåƒæœåŠ¡
docker-compose  up -d
[+] Building 0.0s (0/0)                                                                                                  docker:default
[+] Running 2/2
 âœ” Network twikoo_default  Created                                                                                                 0.0s
 âœ” Container twikoo        Started                                                                                                 0.0s
 [root@VM-4-16-centos twikoo]# docker ps -l
CONTAINER ID   IMAGE            COMMAND                   CREATED          STATUS          PORTS                                       NAMES
dc43659872fe   imaegoo/twikoo   "docker-entrypoint.sâ€¦"   56 minutes ago   Up 56 minutes   0.0.0.0:8426->8080/tcp, :::8426->8080/tcp   twikoo
[root@VM-4-16-centos twikoo]#
```

åœ¨ç§æœ‰éƒ¨ç½²çš„æƒ…å†µä¸‹ï¼Œåœ¨ä½ æ‰§è¡Œ tkserver çš„æ—¶å€™ï¼Œå°±ä¼šåœ¨å½“å‰ç›®å½•åˆ›å»ºï¼š

- data æ–‡ä»¶å¤¹ï¼šå­˜æ”¾è¯„è®ºæ•°æ®ã€é…ç½®ç­‰
- tkserver.logï¼šæ—¥å¿—æ–‡ä»¶

å› æ­¤ï¼Œæœ‰å¿…è¦åœ¨ä½ è‡ªå·±æŒ‡å®šçš„ç›®å½•ä¸‹å¯åŠ¨ tkserverï¼Œæ–¹ä¾¿åæœŸçš„æ•°æ®å¤‡ä»½ã€æ—¥å¿—åˆ†æç­‰ã€‚

å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Dockerï¼Œåœ¨ä¸Šè¿°å‘½ä»¤é‡Œå…¶å®ä¹Ÿç”¨äº† `${PWD}/data` æ¥æŒ‡å®šæ•°æ®æ–‡ä»¶çš„ç›®å½•ï¼Œè¯·è‡ªè¡Œé€‰æ‹©ã€‚

```sh{2,4}
[root@VM-4-16-centos twikoo]# ls
data  docker-compose.yaml
[root@VM-4-16-centos twikoo]# ls data/
db.json  db.json.0  db.json.1  db.json.2
[root@VM-4-16-centos twikoo]#
```

### HTTPSé…ç½®

ç†è®ºä¸Šè¿™æ ·éƒ¨ç½²ï¼Œå°±å®Œæˆåå°çš„éƒ¨åˆ†äº†ï¼Œ**ä½†é‰´äºæˆ‘çš„ç½‘ç«™ç”¨äº† HTTPSï¼Œè€Œ Twikoo æœ¬èº«å¹¶ä¸æ”¯æŒï¼Œå› æ­¤è¿˜éœ€è¦åšåå‘ä»£ç†**ã€‚

æˆ‘è¿™é‡Œé…ç½® HTTPS æ˜¯ç”¨åˆ°[cloudflare](https://dash.cloudflare.com)

- è¿›å…¥[cloudflare](https://dash.cloudflare.com/a9d21f407514e204238da710be47c992/seasir.top/dns/records),åœ¨ã€è´¦æˆ·ä¸»é¡µã€‘æ‰¾åˆ°æ‚¨çš„åŸŸåç‚¹å‡»è¿›å»ï¼ˆå¦‚æœæ²¡æœ‰è¯·æ·»åŠ åŸŸåï¼‰ï¼Œè¿›å»åæ‰¾åˆ° DNS è®°å½•ï¼Œæ·»åŠ äºŒçº§åŸŸå
  - ç±»å‹ï¼šA
  - åç§°ï¼štwikoo(è‡ªå®šä¹‰å°±è¡Œ)
  - IPv4ï¼šå¡«å†™æœåŠ¡å™¨çš„ IP

![image-20250215181017931.png](https://img.seasir.top/2025/08/31/15/57/32/image-20250215181017931_1756627052982.png)

### Nginxé…ç½®

```nginx{2,7}
upstream twi {
   server peterjxl.com:8080; #ä½ çš„åŸŸå+åŠ ç«¯å£
}

server {
    listen  443 ssl;
    server_name  twikoo.peterjxl.com; #å­åŸŸå
    ssl_certificate  /opt/nginxrun/conf/cert/8852603_twikoo.peterjxl.com.pem;
    ssl_certificate_key /opt/nginxrun/conf/cert/8852603_twikoo.peterjxl.com.key;

    # ssl_session_cache    shared:SSL:1m;
    ssl_session_timeout  5m;

    ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers  HIGH:!ADH:!EXPORT56:RC4+RSA:+MEDIUM;
    ssl_prefer_server_ciphers  on;

    location / {
	proxy_pass http://twi;
    }
}
```

- è‡ªå·±å®é™…é…ç½®

```nginx{2,4,9,16,19}
# è¿›å…¥è¯¥ç›®å½•
cd /etc/nginx/conf.d/
# åˆ›å»ºæ–‡ä»¶
vim twikoo.seasir.top.conf

[root@VM-4-16-centos conf.d]#  cat twikoo.seasir.top.conf
server {
    listen 80;
    server_name  twikoo.seasir.top;
    #é…ç½®httpsé‡å®šå‘
    return 301 https://$host$request_uri;
}

server {
    listen  443 ssl;
    server_name  twikoo.seasir.top;

    location / {
        proxy_pass http://äº‘æœåŠ¡å™¨ip:8080/; # å®é™…çš„åå°è·¯å¾„
        client_max_body_size 100M;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    access_log /var/log/nginx/photo.onedayxyy.cn.https.log;
}

# ç”¨äºæµ‹è¯• Nginx é…ç½®æ–‡ä»¶çš„è¯­æ³•æ˜¯å¦æ­£ç¡®
nginx -t
```

- é…ç½®å®Œæˆåéœ€è¦é‡å¯ NGINX æœåŠ¡

```sh
nginx -s reload
```

- è¿™æ ·è®¿é—® https://twikoo.seasir.top/ å°±ä¼šè½¬å‘åˆ°æˆ‘çš„æœåŠ¡å™¨ IP:8080 ï¼Œå®Œæˆåå‘ä»£ç†

![image-20250215182647730.png](https://img.seasir.top/2025/08/31/16/01/26/image-20250215182647730_1756627286462.png)

### å‰ç«¯é…ç½®

- ç¼–è¾‘ `docs\.vitepress\config.ts`æ–‡ä»¶æˆ–è€…å‰å¾€æŸ¥çœ‹åšä¸»[Configé…ç½®](/Config)ï¼Œä¿®æ”¹ä¸ºå¦‚ä¸‹ä»£ç ï¼š

```ts{6}
  comment: {
    // provider: "giscus",
    provider: "twikoo",
    options: {
      // twikoo é…ç½®ï¼Œå®˜ç½‘ï¼šhttps://twikoo.js.org/
      envId: "å¡«å†™æ‚¨è‡ªå·±çš„twikooåŸŸå",
      jsUrl: "https://cdn.staticfile.org/twikoo/1.6.42/twikoo.all.min.js",
    },
  },
```

### è¿è¡ŒéªŒè¯

```sh
pnpm docs:dev
```

## Vercel éƒ¨ç½²

::: tip æç¤º
æœ¬æ–‡æ˜¯åœ¨ åšä¸»[ å”¯çŸ¥ç¬”è®°](https://note.weizwz.com/) æ–‡ç« ï¼š[ã€Šä½¿ç”¨ Twikoo è¯„è®ºç³»ç»Ÿã€‹](https://note.weizwz.com/vitepress/all/resource-all#%E4%BD%BF%E7%94%A8-twikoo-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F) åŸºç¡€ä¸Šå¢åŠ äº†è‡ªå·±å®è·µè¿‡ç¨‹çš„ä¸€äº›ç»†èŠ‚ï¼Œè½¬è½½æ— éœ€å’Œæˆ‘è”ç³»ï¼Œä½†è¯·æ³¨æ˜æ–‡ç« æ¥æºã€‚å¦‚æœä¾µæƒä¹‹å¤„ï¼Œè¯·è”ç³»åšä¸»è¿›è¡Œåˆ é™¤ï¼Œè°¢è°¢~
:::

Twikoo è¯„è®ºï¼Œéœ€è¦éƒ¨ç½²å‰åç«¯ï¼ŒåŒ…æ‹¬æ•°æ®åº“ï¼Œæ“ä½œç•¥æœ‰å¤æ‚ï¼Œä½†æ˜¯ä¸é™åˆ¶ä»£ç æ‰˜ç®¡å’ŒæœåŠ¡æ‰˜ç®¡ï¼Œè‡ªå®šä¹‰ç¨‹åº¦æ›´é«˜ã€‚å®˜æ–¹æ–‡æ¡£ https://twikoo.js.org/ ï¼Œéå¸¸è¯¦ç»†ï¼Œéƒ¨ç½²æ­¥éª¤å¦‚ä¸‹ï¼š

### å»ºç«‹æ•°æ®åº“

[MongoDB AtLas](https://www.mongodb.com/cloud/atlas/register) æ˜¯ MongoDB Inc æä¾›çš„ MongoDB æ•°æ®åº“æ‰˜ç®¡æœåŠ¡ã€‚å…è´¹è´¦æˆ·å¯ä»¥æ°¸ä¹…ä½¿ç”¨ 500 MiB çš„æ•°æ®åº“ï¼Œè¶³å¤Ÿå­˜å‚¨ Twikoo è¯„è®ºä½¿ç”¨ã€‚

- ç”³è¯· [MongoDB AtLas](https://www.mongodb.com/cloud/atlas/register) è´¦å·

- åˆ›å»ºå…è´¹ MongoDB æ•°æ®åº“ï¼ŒåŒºåŸŸæ¨èé€‰æ‹©ç¦» Twikoo åç«¯ï¼ˆVercel / Netlify / AWS Lambda / VPSï¼‰åœ°ç†ä½ç½®è¾ƒè¿‘çš„æ•°æ®ä¸­å¿ƒä»¥è·å¾—æ›´ä½çš„æ•°æ®åº“è¿æ¥å»¶è¿Ÿã€‚å¦‚æœä¸æ¸…æ¥šè‡ªå·±çš„åç«¯åœ¨å“ªä¸ªäº‘æœåŠ¡å™¨å’Œåœ°åŒºï¼Œå¯é€‰æ‹© `AWS / Oregon (us-west-2)å’Œé¦™æ¸¯åœ°åŒº`ï¼Œè¯¥æ•°æ®ä¸­å¿ƒåŸºå»ºæˆç†Ÿï¼Œæ•…éšœç‡ä½ï¼Œä¸”ä½¿ç”¨ Oregon å·çš„æ¸…æ´èƒ½æºï¼Œè¾ƒä¸ºç¯ä¿

- åœ¨ `Database Access` é¡µé¢ç‚¹å‡» `Add New Database User` åˆ›å»ºæ•°æ®åº“ç”¨æˆ·ï¼Œ`Authentication Method` é€‰ `Password`ï¼Œåœ¨ `Password Authentication` ä¸‹è®¾ç½®æ•°æ®åº“ç”¨æˆ·åå’Œå¯†ç ï¼Œå»ºè®®ç‚¹å‡» `Auto Generate` è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªä¸å«ç‰¹æ®Šç¬¦å·çš„å¼ºå£®å¯†ç å¹¶å¦¥å–„ä¿å­˜ã€‚ç‚¹å‡» `Database User Privileges` ä¸‹æ–¹çš„ `Add Built In Role`ï¼Œ`Select Role` é€‰æ‹© `Atlas Admin`ï¼Œæœ€åç‚¹å‡» `Add User`

![1756629719786.png](https://img.seasir.top/2025/08/31/16/41/59/1756629719786_1756629719809.png)

- åœ¨ `Network Access` é¡µé¢ç‚¹å‡» `Add IP Address` æ·»åŠ ç½‘ç»œç™½åå•ã€‚å› ä¸º Vercel / Netlify / Lambda çš„å‡ºå£åœ°å€ä¸å›ºå®šï¼Œå› æ­¤ `Access List Entry` è¾“å…¥ `0.0.0.0/0`ï¼ˆå…è®¸æ‰€æœ‰ IP åœ°å€çš„è¿æ¥ï¼‰å³å¯ã€‚å¦‚æœ Twikoo éƒ¨ç½²åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œè¿™é‡Œå¯ä»¥å¡«å…¥å›ºå®š IP åœ°å€ã€‚ç‚¹å‡» `Confirm` ä¿å­˜

![1756630088470.png](https://img.seasir.top/2025/08/31/16/48/08/1756630088470_1756630088479.png)

- åœ¨ `Overview` é¡µé¢ç‚¹å‡» `Connect`ï¼Œè¿æ¥æ–¹å¼é€‰æ‹© `Drivers`ï¼Œå¹¶è®°å½•æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ï¼Œè¯·å°†è¿æ¥å­—ç¬¦ä¸²ä¸­çš„ `<username>:<password>` ä¿®æ”¹ä¸ºåˆšåˆšåˆ›å»ºçš„æ•°æ®åº“ ç”¨æˆ·å:å¯†ç ï¼Œå¤åˆ¶`Mongodb`è¿æ¥å­—ç¬¦ä¸²å¹¶å¦¥å–„ä¿ç®¡ï¼Œåé¢éƒ¨ç½²éœ€è¦ç”¨åˆ°ï¼ç„¶åç‚¹å‡» `Done`

::: tip ç¤ºä¾‹
mongodb+srv://`æ•°æ®åº“ç”¨æˆ·å`:`æ•°æ®åº“å¯†ç `@cluster0.d1vvzs3.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0
:::

![1756630344870.png](https://img.seasir.top/2025/08/31/16/52/24/1756630344870_1756630344883.png)

- ï¼ˆå¯é€‰ï¼‰é»˜è®¤çš„è¿æ¥å­—ç¬¦ä¸²æ²¡æœ‰æŒ‡å®šæ•°æ®åº“åç§°ï¼ŒTwikoo ä¼šè¿æ¥åˆ°é»˜è®¤çš„åä¸º test çš„æ•°æ®åº“ã€‚å¦‚æœéœ€è¦åœ¨åŒä¸€ä¸ª MongoDB é‡Œè¿è¡Œå…¶ä»–ä¸šåŠ¡æˆ–ä¾›å¤šä¸ª Twikoo å®ä¾‹ä½¿ç”¨ï¼Œå»ºç«‹åŠ å…¥æ•°æ®åº“åç§°å¹¶é…ç½®å¯¹åº”çš„ ACLã€‚
è¿æ¥å­—ç¬¦ä¸²åŒ…å«äº†è¿æ¥åˆ° MongoDB æ•°æ®åº“çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ä¼šå¯¼è‡´è¯„è®ºè¢«ä»»ä½•äººæ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ï¼Œå¹¶æœ‰å¯èƒ½è·å–ä½ çš„ SMTPã€å›¾åºŠ token ç­‰ä¿¡æ¯ã€‚è¯·å¦¥å–„è®°å½•è¿™ä¸€å­—ç¬¦ä¸²ï¼Œä¹‹åéœ€è¦å¡«å…¥åˆ° Twikoo çš„éƒ¨ç½²å¹³å°é‡Œã€‚

### Vercel éƒ¨ç½²

- ç”³è¯· [Vercel](https://vercel.com/signup) è´¦å·ï¼Œç‚¹å‡»ä»¥ä¸‹æŒ‰é’®å°† Twikoo ä¸€é”®éƒ¨ç½²åˆ° `Vercel Deploy`

[![Deploy](https://vercel.com/button)](https://vercel.com/import/project?template=https://github.com/twikoojs/twikoo/tree/main/src/server/vercel-min)

- è¿›å…¥ `Settings` - `Environment Variables`ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ `MONGODB_URI`ï¼Œå€¼ä¸ºå‰é¢è®°å½•çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²

![1756631059285.png](https://img.seasir.top/2025/08/31/17/04/19/1756631059285_1756631059298.png)

- è¿›å…¥ `Settings` - `Deployment Protection`ï¼Œè®¾ç½® `Vercel Authentication` ä¸º `Disabled`ï¼Œå¹¶ `Save`

![1756631162813.png](https://img.seasir.top/2025/08/31/17/06/02/1756631162813_1756631162823.png)

- è¿›å…¥ `Deployments` , ç„¶ååœ¨ä»»æ„ä¸€é¡¹åé¢ç‚¹å‡»æ›´å¤šï¼ˆä¸‰ä¸ªç‚¹ï¼‰ , ç„¶åç‚¹å‡» `Redeploy` , æœ€åç‚¹å‡»ä¸‹é¢çš„ `Redeploy` ç­‰å¾…éƒ¨ç½²å®Œæˆï¼Œéƒ¨ç½²å®Œæˆå³å¯

- è¿›å…¥ `Overview`ï¼Œç‚¹å‡» `Domains` ä¸‹æ–¹çš„é“¾æ¥ï¼Œå¦‚æœç¯å¢ƒé…ç½®æ­£ç¡®ï¼Œå¯ä»¥çœ‹åˆ° â€œTwikoo äº‘å‡½æ•°è¿è¡Œæ­£å¸¸â€ çš„æç¤ºï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸï¼

![1756631491236.png](https://img.seasir.top/2025/08/31/17/11/31/1756631491236_1756631491249.png)

- Vercel Domainsï¼ˆåŒ…å« https:// å‰ç¼€ï¼Œä¾‹å¦‚ https://xxx.vercel.appï¼‰å³ä¸ºæ‚¨çš„ç¯å¢ƒ id

### åŸŸåé…ç½®

- éƒ¨ç½²æˆåŠŸåï¼Œä¿®æ”¹é»˜è®¤åŸŸåä¸ºä½ çš„å­åŸŸåï¼Œéœ€è¦å»ä½ çš„åŸŸåç®¡ç†é‚£ä¸Šä¿®æ”¹ DNS è§£æã€‚

![1756631698889.png](https://img.seasir.top/2025/08/31/17/14/58/1756631698889_1756631698900.png)

### å‰ç«¯é…ç½®

- ç»„ä»¶æ³¨å†Œå’Œteekå†…ç½®äºŒé€‰ä¸€
::: tip è·¯å¾„
- vitepress/config.ts
- .vitepress/theme/components/Twikoo.vue
- .vitepress/theme/components/TeekLayoutProvider.vue
:::

::: code-group

``` ts [(æ¨è)config.ts] 
  comment: {
    // provider: "giscus",
    provider: "twikoo",
    options: {
      // twikoo é…ç½®ï¼Œå®˜ç½‘ï¼šhttps://twikoo.js.org/
      envId: "å¡«å†™æ‚¨è‡ªå·±çš„twikooåŸŸå",
      //jsUrl: "https://cdn.staticfile.org/twikoo/1.6.42/twikoo.all.min.js",
      version: "1.6.44",
    },
  },
```

```vue [Twikoo.vue] {16}
ä»£ç è¯·åœ¨æºç è‡ªè¡Œè·å–ï¼šhttps://gitee.com/SeasirHyde/teek-hyde/blob/main/docs/.vitepress/theme/components/Twikoo/twikoo.scss
```

```scss [twikoo.scss]
ä»£ç è¯·åœ¨æºç è‡ªè¡Œè·å–ï¼šhttps://gitee.com/SeasirHyde/teek-hyde/blob/main/docs/.vitepress/theme/components/Twikoo/twikoo.scss
```

```vue [TeekLayoutProvider.vue]
<script setup lang="ts">
import Twikoo from './Twikoo.vue'
</script>

<template>
  <Teek.Layout>
    <template #teek-doc-after-appreciation-before>
      <!-- è¯„è®ºç»„ä»¶ -->
      <Twikoo />
    </template>
  </Teek.Layout>
</template>
```
:::

### é…ç½®é‚®ä»¶

- å‰åç«¯éƒ½å¤„ç†å¥½åï¼Œç•Œé¢å°±èƒ½æ­£å¸¸å±•ç¤ºäº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜è¦å¤„ç†ä¸‹é‚®ä»¶åŠŸèƒ½ã€‚è¿›å…¥æ‚¨çš„æ–‡ç« åº•éƒ¨ï¼Œæ‰¾åˆ°è¯„è®ºåŒºçš„è®¾ç½®ï¼Œé¦–æ¬¡æ‰“å¼€`è®¾ç½®`æŒ‰é’®åï¼Œä¼šæœ‰è®¾ç½®å¯†ç æ¡†ï¼Œè®¾ç½®ä¸€ä¸ªå¤æ‚å¯†ç å¹¶è®°ä½ã€‚ç„¶åè¿›å…¥`é…ç½®ç®¡ç†`ï¼Œé€‰æ‹©`é‚®ä»¶é€šçŸ¥`

- æŒ‰ç…§æç¤ºè¾“å…¥ä½ çš„é‚®ç®±ï¼Œé‚®ç®±æˆæƒç ç­‰å³å¯ã€‚æœ€åæœ‰ä¸ªé‚®ä»¶æµ‹è¯•ï¼Œæµ‹è¯•åï¼Œä½ èƒ½æ”¶åˆ°ä¸€å°é‚®ä»¶ï¼Œè¯´æ˜åŠŸèƒ½å¯ç”¨äº†

### ç¾åŒ–æ ·å¼

- twikoo é…ç½®é¢æ¿é‡Œçš„æ’ä»¶é¡µç­¾ï¼Œé€‰æ‹©ä»£ç é«˜äº®ä¸»é¢˜ coyï¼Œä»£ç å¤åˆ¶æ’ä»¶ copyButtonã€‚

- è‡ªå®šä¹‰ css

```scss [.vitepress/theme/style/comment.scss]
.twikoo {
    .el-input-group__append,
    .el-input-group__prepend,
    .el-textarea__inner {
        border: 1px solid #dcdfe6;
        box-shadow: none;
    }
    .el-input-group__prepend {
        border-right: none;
    }
    .el-button--small {
        height: auto;
    }
    .el-textarea > .el-textarea__inner {
        min-height: 117px !important;
        border-radius: 8px;
        margin-top: 16px;
    }
    .tk-preview-container {
        border-radius: 8px;
    }
    .tk-comments-count {
        font-size: 14px;
        color: #666;
    }
    .tk-nick,
    .tk-replies .tk-nick-link {
        font-size: 15px;
        margin-right: 8px;
        color: #409eff;
    }
    .tk-tag {
        margin-right: 8px;
    }
    .tk-comments-container > .tk-comment {
        border: solid 1px #f3f4f6;
        border-radius: 1rem;
        padding: 24px;
        margin-top: 0;
        margin-bottom: 24px;
        transition: all 0.3s ease;
    }
    .tk-comments-container > .tk-comment:hover {
        box-shadow: 0 4px 12px var(--vp-c-brand-1);
    }
    .tk-replies-expand > .tk-comment {
        border-top: solid 1px #f7f7f7;
        padding-top: 24px;
    }
    .tk-content p {
        line-height: 1.6;
    }
    a:not(.tk-ruser):not(.tk-nick-link) {
        color: #3072b3;
        font-weight: 500;
        text-underline-offset: 2px;
    }
    a:not(.tk-ruser):not(.tk-nick-link):hover {
        color: #409eff;
    }
    /* ä»£ç å— */
    div.code-toolbar {
        border-radius: 8px !important;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
    }
    div.code-toolbar :not(pre) > code[class*="language-"],
    div.code-toolbar pre[class*="language-"] {
        background: #f5f5f5;
        border-radius: 8px;
    }
    div.code-toolbar pre[class*="language-"] {
        border-radius: 8px;
    }
    div.code-toolbar pre[class*="language-"]::before,
    div.code-toolbar pre[class*="language-"]::after {
        content: none;
    }
    div.code-toolbar pre[class*="language-"] > code {
        padding: 1em;
        border-left: 4px solid #409eff;
        border-radius: 8px;
    }
    div.code-toolbar > div.toolbar {
        z-index: 1;
        top: 8px;
        right: 8px;
    }
    div.code-toolbar > div.toolbar > .toolbar-item > button {
        display: none;
        padding: 0 6px;
        font-size: 12px;
        color: black;
    }
    div.code-toolbar:hover > div.toolbar > .toolbar-item > button {
        display: block;
    }
    .tk-admin-container {
        z-index: 1;
    }
}

.tk-avatar {
    background-color: #ffffff00;
}

.tk-avatar .tk-avatar-img {
    height: 41px !important;
}
.dark .twikoo {
    .tk-comments-container > .tk-comment {
        border-color: #454545;
    }
    .tk-comments-container > .tk-comment:hover {
        box-shadow: 0 4px 12px var(--vp-c-brand-1);
    }
    .tk-replies-expand > .tk-comment {
        border-color: #343434;
    }
    /* ä»£ç å— */
    div.code-toolbar pre[class*="language-"] > code {
        filter: brightness(0.8);
    }
}
```

- css æ³¨å…¥ä¸»é¢˜é…ç½®

åœ¨`docs\.vitepress\theme\styles\index.scss`ä¸­æ·»åŠ é…ç½®

```scss [docs\.vitepress\theme\styles\index.scss]
@use "./comment.scss" as *; // è¯„è®ºæ ·å¼
```

## å‚è€ƒæ–‡æ¡£

- [Twikoo å®˜æ–¹æ–‡æ¡£](https://twikoo.js.org/intro.html)

- [ä½¿ç”¨ Twikoo è¯„è®ºç³»ç»Ÿ](https://note.weizwz.com/vitepress/all/resource-all#%E4%BD%BF%E7%94%A8-twikoo-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F)

- [VitePress é›†æˆ Twikoo è¯„è®º](https://note.weizwz.com/vitepress/extend/vitepress-twikoo)
